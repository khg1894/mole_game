<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <canvas id="myCanvas"></canvas>
  </body>
  <script>
    let circlex = 50;
    let circley = 50;
    let rkp = false;
    let lkp = false;
    let ukp = false;
    let dkp = false;
    const myCanvas = document.getElementById("myCanvas");
    myCanvas.width = 500;
    myCanvas.height = 300;
    myCanvas.style.backgroundColor = "gray";

    // 그림 그리는 역할
    const context = myCanvas.getContext("2d");

    const draw = () => {
      if (rkp) {
        circlex += 1;
      } else if (lkp) {
        circlex -= 1;
      } else if (dkp) {
        circley += 1;
      } else if (ukp) {
        circley -= 1;
      }
      context.clearRect(0, 0, myCanvas.width, myCanvas.height);
      // 도형 그리기 시작
      context.beginPath();
      // 동그라미
      context.arc(circlex, circley, 10, 0, 2 * Math.PI);
      // 색깔
      context.fillStyle = "blue";
      // 그리기 완료
      context.fill();
    };

    document.onkeydown = (event) => {
      if (event.keyCode == 39) {
        rkp = true;
      }
      if (event.keyCode == 38) {
        ukp = true;
      }
      if (event.keyCode == 40) {
        dkp = true;
      }
      if (event.keyCode == 37) {
        lkp = true;
      }
    };
    document.onkeyup = (event) => {
      if (event.keyCode == 39) {
        rkp = false;
      }
      if (event.keyCode == 38) {
        ukp = false;
      }
      if (event.keyCode == 40) {
        dkp = false;
      }
      if (event.keyCode == 37) {
        lkp = false;
      }
    };

    // 도형 그리기 시작
    context.beginPath();
    // 동그라미
    context.arc(circlex, circley, 10, 0, 2 * Math.PI);
    // 색깔
    context.fillStyle = "blue";
    // 그리기 완료
    context.fill();
    // document.onkeyup = (event) => {
    //   console.log(event);
    //   if (event.keyCode == 39) {
    //     circlex += 25;
    //     draw();
    //   } else if (event.keyCode == 40) {
    //     circley += 25;
    //     draw();
    //   } else if (event.keyCode == 37) {
    //     circlex -= 25;
    //     draw();
    //   } else if (event.keyCode == 38) {
    //     circley -= 25;
    //     draw();
    //   }
    // };
    setInterval(() => {
      draw();
    }, 1);
  </script>
</html>
